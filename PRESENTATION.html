


<section>
  <h2>Opening</h2>

  Welcome
  - Who I am
  - Where I've been

  Chocolate up front
  Nomination of a REGULATOR


  I work at Tenscores, Tech Lead over there.

  We're building an awesome Google AdWords campaign soptimization platform.  Every AdWords marketing should know and try it out.

  Our use case:  we're a startup, and we need insights.
</section>


<section>
  <h2>What we'll cover</h2>

  - Gevent quick intro
  - Gevent-socketio, the new revamped, cross-framework
    - Show a bit of history, main contributors, jgelens, John Anderson, PyCon 2012 sprints
    - Show the old posts, videos
  - AngularJS, wire-in Socket.IO in there
  - Gevent-SocketIO:
     - Show example of integration with Django / Flask (in the examples repo)
  -

</section>


<section>
  <h2>gevent</h2>

  - Quick demo of parallel programming
  - Show off a couple of primitives
  - Monkey patch
  - pdb hangs everything
</section>

<section>
  <h2>AngularJS</h2>

  - Demo data binding
  - Get data from server (flat JSON), assign a var
  - Put in a directive, Plot it with a graph
  - Update the data on the server, and *hop*, the graph updates

  - Replace static data with live data, through Socket.IO though

  - Multiply the number of graphs, by adding more <ts-graph> to the view.
    Configured through an attribute.

  - Do something like the Evtrack directive, to collect from other parts of
    the UI.
</section>

<section>
  <h2>gevent-socketio</h2>

  - Persistence mech ? MongoDB ? In-memory ? Tailable cursor ?
  - Gather events through JSON
  - SocketIO context to send off values tail'd from the incoming flow
  - Demo MIXIN
  - Demo on_ things, recv_, disconnect, jobs spawn'd
    - On disconnect, register an event with a timespan (beginning on connection
      time).  Use the timeout of the socket to know the presence of the guy :)
</section>

<section>
  <h2>Pyramid and H5BP bootstrapping</h2>

  mkdir moo
  cd moo
  virtualenv env
  . env/bin/activate
  pip install pyramid
  pcreate -t starter Moo
  python Moo/setup.py develop  # not useful

  # Clean up default pyramid files
  rm -rf Moo/moo/templates/* Moo/moo/static/*

  # Load in H5BP
  git clone git://github.com/h5bp/html5-boilerplate.git
  cp html5-boilerplate/index.html Moo/moo/templates/
  cp -rv html5-boilerplate/{css,js,img} Moo/moo/static/

  # Fixup the index.html template
  replace "css/" by "/static/css/"
  replace "js/" by "/static/js/"
  # TODO: make a 'sed' call to do that..

  # In the background, tweak:
  developement.ini, add line: "mako.directories=moo:" under "use = egg:Moo"
  # This will use the 'moo' package's directory, so templates/boo will resolve
  # to the default location.

  # In the background, add:
  config.add_renderer('.html', "pyramid.mako_templating.renderer_factory")
  # to moo/__init__.py after "config = Configurator(settings=settings)"

  # Change the default template to load in `views.py`
  Put "templates/index.html" instead of "templates/mytemplate.pt"

  # Launch the dev server:
  cd ~/moo/Moo
  pserve --reload development.ini

  # Go in index.html, and ADD SOME SPACE AROUND THE "Hello world!" LINE

  # Connect to:
  http://localhost:6543/

  # And we're ready to go.
</section>


<section>
  <h2>Integrating AngularJS</h2>

  We'll use Google's CDN to simplify our job here..

  # Tweak index.html and add:
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js"></script>
  # from https://developers.google.com/speed/libraries/devguide (fragment: #angularjs)
  # just after:
  <script src="/static/js/plugins.js"></script>

  # In the background, install a local copy of AngularJS and load it from here.
  cd ~/moo/Moo/moo/static/js/vendor
  wget http://code.angularjs.org/1.0.2/angular.min.js
  # Replace the line we just added from the Google CDN with:
  <script src="/static/js/vendor/angular.min.js"></script>

  # Add:
  ng-app="moo"
  # to our <html> tag

  # Add:
  ng-controller="MooCtrl"
  # to the <body> tag.

  # Add:
  ng-cloak
  # to the same body tag if we can, and add this to the `main.css` file:
  [ng\:cloak], [ng-cloak], .ng-cloak {
    display: none;
  }
  # See: http://docs.angularjs.org/api/ng.directive:ngCloak for more details.

  # Go to `main.js`, and add:
  angular.module('moo', [])
    .controller("MooCtrl", function($scope) {
      console.log("We're here!");
    })
  # See http://docs.angularjs.org/guide/di, see section "Inline Annotation" for the best way to declare these things.

  # Refresh page, show the console. and we're up :)
</section>

<section>
  <h2>Quick demo of AngularJS's data-binding</h2>

  # Add:
      $scope.who = 'Mama';
  # to MooCtrl

  # Change:
  "Hello World!" for "Hello {{who}}!"
  # in index.html, refresh, show that it uses the data, interpolation

  # We might want to explain at this point, the DOM-based templating, the
  # interpretation of the $scope from the DOM node, and the fact that any
  # child nodes can access the $scope.  The fact that $scope is attached
  # to the DOM node.

  # Show two-way, add the <input> tag, change:
  "<p>Hello {{who}}! This is <input ng-model="who" />.</p>"

  # Show off the two-way binding, explain that ng-model tweaks the $scope value
  # and any changes to the model get reflected (after a $digest() cycle) back
  # into the DOM, using the Observer pattern.  Each of those {{who}} set up
  # watches to update the DOM when they change.




</section>

Reference for AngularJS + D3 integration

http://briantford.com/blog/angular-d3.html
